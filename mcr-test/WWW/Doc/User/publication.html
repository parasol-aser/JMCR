<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" 
   "http://www.w3.org/TR/REC-html40/loose.dtd"> 
<HTML>
<HEAD>
    <link rel="stylesheet" type="text/css" href="../style/doc.css">
    <TITLE>Publication in Jigsaw</TITLE>
  </HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE" VLINK="#551A8B"
    ALINK="#FF0000">
   <div class="icons-w3c">
      <a href="../../../">
	<img src="/Icons/w3c_home" 
	  border="0" 
	  alt="W3C logo"
	  height="48" 
	  width="72">
      </a>
    </div>
    <div class="icons-jigsaw">
      <a href="../../">
	<img src="/Icons/jigsaw" 
	  border="0"
	  alt="Jigsaw"
	  height="49"
	  width="212">
      </a>
    </div>

    <div class="title">
<H1 class="title">
      Publication in Jigsaw
</H1>
<hr NOSHADE width="70%" align="left">
    <a href="../../Overview.html">Jigsaw Home</a> /
    <a href="../Overview.html">Documentation Overview</a> /
      <a href="Tutorials.html">Tutorials</a>
    </div>
    <div class="body">
<p>
This page describes how to setup an editable space under <B>Jigsaw</B>.
Today most of the authoring tools allows you to use the PUT method of HTTP
to publish a document on a web server.

<P>In the following configuration, the editable URL will be <TT>http://your-server-host/publications.</TT>

<P>The tutorial will go through the following steps:
<p>
<OL>
<LI>
<A HREF="#indexer">Configuring a PUT indexer</A></LI>

<LI>
<A HREF="#directory">Configuring the editable space</A></LI>
</OL>

<H1>
<A NAME="indexer"></A>Configuring a PUT indexer</H1>
<B>NOTE</B>: Since Jigsaw2.0beta3, there is a <TT>put-indexer</TT> already
configured in the distribution.

<P>First, read the <A HREF="indexers.html">indexer documentation</A>. When
you are more familiar with indexers you can go through the following steps:

<P><B>1)</B> Create the indexer, called it <TT>put-indexer</TT> for example.
In this case the <A HREF="indexers.html#content-type-indexer">ContentTypeIndexer</A>
is the most appropriate indexer class to choose.
<BR>
<IMG SRC="images/put1.gif" HSPACE=10 VSPACE=10 HEIGHT=157 WIDTH=484>
<IMG SRC="images/put2.gif" HSPACE=10 VSPACE=10 HEIGHT=401 WIDTH=666>

<BR><B>2)</B> The <TT>put-indexer</TT> has three nodes: <TT>content-types</TT>,
<TT>directories</TT> and <TT>extensions</TT>.
<UL>
<LI>
<TT>content-types</TT> define some relations between mime types and resources.
This is used when the PUT request has a <TT>Content-Type</TT> Header. If
the <TT>Content-Type</TT> header is <TT>text/html</TT> then the resource
called <TT>text:html</TT> will be the template to use for the new created
resource. The template resource <TT>text:html</TT> must be a <A HREF="../Reference/org.w3c.tools.resources.FileResource.html">FileResource</A>
associated to an <A HREF="../Reference/org.w3c.jigsaw.frames.HTTPFrame.html">HTTPFrame</A>
with its <TT>Putable</TT> flag set to <B>on </B>and of course a <TT>Content
Type</TT> set to <B>text/html</B>.
	<table>
	  <tr><td>
	      <IMG SRC="images/put3.gif" HSPACE=10 VSPACE=10
		HEIGHT=381 WIDTH=334 ALIGN=TEXTTOP> 
	    </td><td>
	      <IMG SRC="images/put4.gif" HSPACE=10 VSPACE=10
		HEIGHT=393 WIDTH=453 ALIGN=TEXTTOP> 
	    </td></tr>
	</table>
<LI>
<TT>directories</TT> is used to index files matching exactly a name, mainly
used to index directories. In this configuration every subdirectories will
be indexed as a <A HREF="../Reference/org.w3c.tools.resources.DirectoryResource.html">DirectoryResource</A>
associated to an <A HREF="../Reference/org.w3c.jigsaw.frames.HTTPFrame.html">HTTPFrame</A>
with its <TT>Putable</TT> flag set to <B>on</B>.
	<table>
	  <tr><td>
	      <IMG SRC="images/put5.gif" HSPACE=10 VSPACE=10
		HEIGHT=381 WIDTH=335 ALIGN=TEXTTOP> 
	    </td><td>
	      <IMG SRC="images/put6.gif" HSPACE=10 VSPACE=10
		HEIGHT=398 WIDTH=441 ALIGN=TEXTTOP> 
	    </td></tr>
	</table>
<LI>
<TT>extensions</TT> is used to index files with a specific extension. For
example, "html" is a <A HREF="../Reference/org.w3c.tools.resources.FileResource.html">FileResource</A>
with an <A HREF="../Reference/org.w3c.jigsaw.frames.HTTPFrame.html">HTTPFrame</A>
set to give the "text/html" content type to this file (<TT>Putable</TT>
flag set to <B>on</B>).
	<table>
	  <tr><td>
	      <IMG SRC="images/put7.gif" HSPACE=10 VSPACE=10
		HEIGHT=465 WIDTH=334 ALIGN=TEXTTOP> 
	    </td><td>
	      <IMG SRC="images/put8.gif" HSPACE=10 VSPACE=10
		HEIGHT=481 WIDTH=492 ALIGN=TEXTTOP> 
	    </td></tr>
	</table>
</UL>
<B>NOTE</B>: Don't forget to set all <TT>Putable</TT> flag to <B>on</B>
(in associated HTTPFrame).

<P><B>3)</B> Save your configuration, your new <TT>put-indexer</TT> is
ready.

<P>
<H1>
<A NAME="directory"></A>Configuring the editable space</H1>
We choose <TT>publications</TT> as our editable directory.

<P><B>1)</B> Create the directory&nbsp; <TT>&lt;instdir>/Jigsaw/Jigsaw/WWW/publications.</TT>

<P><B>2) </B>Open a JigAdmin window (see <A HREF="AdminTools.html">JigAdmin
documentation</A>).

<P><B>3)</B> Create the <TT>publications</TT> resource. It should be created
automatically by the <TT>default</TT> indexer,&nbsp; it should be a <A HREF="../Reference/org.w3c.jigsaw.resources.DirectoryResource.html">DirectoryResource</A>
associated to an <A HREF="../Reference/org.w3c.jigsaw.frames.HTTPFrame.html">HTTPFrame</A>
(but you can use a <A HREF="../Reference/org.w3c.tools.resources.PassDirectory.html">PassDirectory</A>
with an HTTPFrame).
<BR>
	<table>
	  <tr><td>
	      <IMG SRC="images/put9.gif" HSPACE=10 VSPACE=10
		HEIGHT=411 WIDTH=335 ALIGN=TEXTTOP> 
	    </td><td>
	      <IMG SRC="images/put10.gif" HSPACE=10 VSPACE=10
		HEIGHT=441 WIDTH=430 ALIGN=TEXTTOP> 
	    </td></tr>
	</table>
<BR><B>4)</B> Set the putable flag of the HTTPFrame associated to <TT>publications</TT>
to <B>on</B>. Don't forget to commit your changes.
<BR><B>5)</B> Set the <TT>put-indexer</TT> as the current indexer. Commit
your changes.
<BR><IMG SRC="images/put11.gif" HSPACE=10 VSPACE=10 HEIGHT=430 WIDTH=441>
<BR><B>6)</B> Save your configuration, now you can PUT some new documents
(and some new directories) in <TT>http://your-server-host/publications/</TT>
, enjoy!
    </div> <!-- body -->
    <div class="footer">
<P>
<HR noshade>
    <a href="mailto:jigsaw@w3.org">Jigsaw Team</a><br>
    <span class="mini">
      $Id: publication.html,v 1.1 2010/06/15 12:22:57 smhuang Exp $
    </span>
    <p class="policyfooter">
      <font size=-1>
	<a href="/Consortium/Legal/ipr-notice.html#Copyright">Copyright</a>
	&copy; 1999 <a href="http://www.w3.org">W3C</a> 
	(<a href="http://www.lcs.mit.edu">MIT</a>, 
	<a href="http://www.inria.fr/">INRIA</a>, 
	<a href="http://www.keio.ac.jp/">Keio</a> ), 
	All Rights Reserved. W3C 
	<a href="/Consortium/Legal/ipr-notice.html#Legal Disclaimer">
	  liability,
	</a>
	<a href="/Consortium/Legal/ipr-notice.html#W3C Trademarks">
	  trademark
	</a>, 
	<a href="/Consortium/Legal/copyright-documents.html">
	  document use 
	</a>
	and
	<a href="/Consortium/Legal/copyright-software.html">
	  software licensing
	</a> rules apply. Your interactions with this site are in
	accordance with our 
	<a href="/Consortium/Legal/privacy-statement.html#Public">
	  public
	</a> and 
	<a href="/Consortium/Legal/privacy-statement.html#Members">
	  Member
	</a>
	privacy statements.</font>
  </div>
</BODY>
</HTML>
