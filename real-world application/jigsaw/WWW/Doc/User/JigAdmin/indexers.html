<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" 
   "http://www.w3.org/TR/REC-html40/loose.dtd"> 
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" type="text/css" href="../../style/doc.css">
    <title>Indexers</title>
  </head>
  <body bgcolor="#FFFFFF">
    <div class="icons-w3c">
      <a href="../../../../">
	<img src="/Icons/w3c_home" 
	  border="0" 
	  alt="W3C logo"
	  height="48" 
	  width="72">
      </a>
    </div>
    <div class="icons-jigsaw">
      <a href="../../../">
	<img src="/Icons/jigsaw" 
	  border="0"
	  alt="Jigsaw"
	  height="49"
	  width="212">
      </a>
    </div>

    <div class="title">
      <h1 class="title">
	Indexers<br>
	<span class="subtitle">How to create resources automatically</span>
      </h1>
      <hr NOSHADE WIDTH="70%" align="left">
      <a href="../../../Overview.html">Jigsaw Home</a> / 
      <a href="../../Overview.html">Documentation Overview</a> / 
      <a href="Overview.html">Jigsaw Administration Tool</a>
    </div>
    <div class="body">
    <p>This document has the following sections:<p>
    <ul>
      <li><a href="#what">What is an Indexer?</a>
	<ul>
	  <li><a href="#goal">Goal of an indexer</a>
	  <li><a href="#descr">Description of an indexer</a>
	</ul>
      <li><a href="#jigadmin">Indexers in JigAdmin</a>
    </ul>
    
    <a name="what"></a>
    <h1>What is an Indexer?</h1>

    <a name="goal"></a>
    <H2>Goal of an indexer</H2>
    <p style="margin-left:20px">
      The main goal of an indexer is to create and setup some resource
      automatically. The resources can be created depending on their
      name or their extension. Once the resource has been created, the
      indexer is also in charge of attaching the right frames to this
      resource, like the HTTP frame, the filters and so on. 
    <p style="margin-left:20px">
      Each <a href="../../Reference/org.w3c.tools.resources.DirectoryResource.html#indexer">
	DirectoryResource</a> (and subclasses) is associated to an indexer,
      if no indexer is specified the DirectoryResource is associated
      to the "default" indexer.

    <a name="descr"></a>
    <H2>Description of an indexer</H2>
    <p style="margin-left:20px">
    <OL>
      <LI>Class and attributes of an indexer
    <DL>
      <DT><b>Class</b>:</DT>
      <DD>Usually, the indexer's class is
	<TT>org.w3c.tools.resources.indexer.SampleResourceIndexer</TT></DD>
      <DT><b>Identifier</b></DT>
      <DD>The name of the indexer, ex: "icons"</DD>
      <DT><b>Last Modified</b></DT>
      <DD>Unused, but resent as, internally, it is a resource.</DD>
      <DT><b>Super Indexer</b></DT>
      <DD>The name of the parent indexer used when the current indexer
	fails to index. By default, the super indexer is the "default"
	indexer.</DD> 
    </DL>

    <LI>The sons of an indexer
    <DL>
      <DT><b>directories</b></DT>
      <DD>Used to index files matching exactly a name, mainly used to
	index directories. You can specify that an "Icons" directory
	will always be negotiable, for example. The default name (ie:
	matching all directory names) is "*default*"</DD>
      <DT><b>extensions</b></DT>
      <DD>Used to index files with a specific extension. For example,
	"html" is a FileResource with an HTTPFrame set to give the
	"text/html" content type to this file. Then all the "foo.html"
	files will be indexed as "text/html" type object when accessed
	by HTTP. The default extension (ie: matching all the extension
	names) is "*default*". To index files with no extensions, you
	must use the name "*noextension*".</DD>
      <DT><b>content-types</b> (only for the Content Type Indexer)</DT>
      <DD>In some cases the file extension is not the only criteria,
	for example when a PUT request occurs the indexer should use
	the Content-Type header coming with the request (if there is
	a content-type header). This is the job of the Content Type
	Indexer. The Content Type Indexer
	(org.w3c.jigsaw.indexer.ContentTypeIndexer), has one more
	child, the content-types node. The associations between mime
	types and resources are stored in this new child.
	<p>
	  <P>Since 2.0.2 the ContentTypeIndexer accept generic mime
	  types like <b>text:*</b>, <b>*:xml</b> or even
	  <b>*:*</b>. For example, if you define <b>text:*</b> as a
	  FileResource using a HTTPFrame (with a content-type set to
	  <b>*none*</b>) all content types like text/html, text/plain, 
	  text/xml will be accepted.
	<p>
	  <b>Note</b>: The mime types stored in the indexer are not
	  "real" mime types, the '/' has been replaced by a ':'. We
	  decided that because the '/' can create some conflicts with
	  the URLs in Jigsaw. 
      </DD>
    </DL>
  </OL>
    <p style="margin-left:20px">
      You can find a sample indexer configuration in this <a
	href="../indexers.html">page</a>.
      
      <a name="jigadmin"></a>    
    <h1>Indexers in JigAdmin</h1>

    <p><img src="images/indexers.gif" width="553" height="330" 
	alt="indexers">

    <p>The Indexers Space is exactly the same thing than the <a
	href="docs_space.html">Documents Space</a> except that
      indexers classes are available in the "Available Resources"
      window. You are still able to add, delete, configure resources
      and frames but only in the indexers nodes (<b>directories</b>,
      <b>extensions</b> and sometimes <b>content-types</b>). Of
      course, you can also create new indexers (under the
      <b>Indexers</b> node).
      <p>
    </div> <!-- body -->
    <div class="footer">
    <p>
    <hr NOSHADE WIDTH="100%">
    <a href="mailto:jigsaw@w3.org">Jigsaw Team</a><br>
    <span class="mini">
      $Id: indexers.html,v 1.1 2010/06/15 12:25:47 smhuang Exp $
    </span>
    <p class="policyfooter">
      <font size=-1>
	<a href="/Consortium/Legal/ipr-notice.html#Copyright">Copyright</a>
	&copy; 1999 <a href="http://www.w3.org">W3C</a> 
	(<a href="http://www.lcs.mit.edu">MIT</a>, 
	<a href="http://www.inria.fr/">INRIA</a>, 
	<a href="http://www.keio.ac.jp/">Keio</a> ), 
	All Rights Reserved. W3C 
	<a href="/Consortium/Legal/ipr-notice.html#Legal Disclaimer">
	  liability,
	</a>
	<a href="/Consortium/Legal/ipr-notice.html#W3C Trademarks">
	  trademark
	</a>, 
	<a href="/Consortium/Legal/copyright-documents.html">
	  document use 
	</a>
	and
	<a href="/Consortium/Legal/copyright-software.html">
	  software licensing
	</a> rules apply. Your interactions with this site are in
	accordance with our 
	<a href="/Consortium/Legal/privacy-statement.html#Public">
	  public
	</a> and 
	<a href="/Consortium/Legal/privacy-statement.html#Members">
	  Member
	</a>
	privacy statements.</font>
    </div>
  </body>
</html>
